function cov_47i5lw32r(){var path="C:\\Users\\USER\\Desktop\\TP\\Y2 Sem 2\\DVOPS\\Projects\\PetAdoptionDF\\public\\js\\editpet.js";var hash="9727b981a9f1c7210995e90984978d1cc37b2675";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\USER\\Desktop\\TP\\Y2 Sem 2\\DVOPS\\Projects\\PetAdoptionDF\\public\\js\\editpet.js",statementMap:{"0":{start:{line:2,column:22},end:{line:2,column:65}},"1":{start:{line:3,column:18},end:{line:3,column:37}},"2":{start:{line:5,column:4},end:{line:8,column:5}},"3":{start:{line:6,column:8},end:{line:6,column:38}},"4":{start:{line:7,column:8},end:{line:7,column:15}},"5":{start:{line:10,column:4},end:{line:24,column:5}},"6":{start:{line:11,column:25},end:{line:11,column:56}},"7":{start:{line:12,column:20},end:{line:12,column:41}},"8":{start:{line:15,column:8},end:{line:15,column:57}},"9":{start:{line:16,column:8},end:{line:16,column:59}},"10":{start:{line:17,column:8},end:{line:17,column:55}},"11":{start:{line:18,column:8},end:{line:18,column:61}},"12":{start:{line:19,column:8},end:{line:19,column:59}},"13":{start:{line:20,column:8},end:{line:20,column:63}},"14":{start:{line:23,column:8},end:{line:23,column:59}},"15":{start:{line:28,column:22},end:{line:28,column:65}},"16":{start:{line:29,column:18},end:{line:29,column:37}},"17":{start:{line:31,column:20},end:{line:38,column:5}},"18":{start:{line:40,column:4},end:{line:58,column:5}},"19":{start:{line:41,column:25},end:{line:47,column:10}},"20":{start:{line:49,column:8},end:{line:54,column:9}},"21":{start:{line:50,column:12},end:{line:50,column:47}},"22":{start:{line:51,column:12},end:{line:51,column:39}},"23":{start:{line:53,column:12},end:{line:53,column:43}},"24":{start:{line:56,column:8},end:{line:56,column:52}},"25":{start:{line:57,column:8},end:{line:57,column:60}},"26":{start:{line:61,column:0},end:{line:61,column:62}}},fnMap:{"0":{name:"loadPetDetails",decl:{start:{line:1,column:15},end:{line:1,column:29}},loc:{start:{line:1,column:32},end:{line:25,column:1}},line:1},"1":{name:"updatePet",decl:{start:{line:27,column:15},end:{line:27,column:24}},loc:{start:{line:27,column:27},end:{line:59,column:1}},line:27}},branchMap:{"0":{loc:{start:{line:5,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:5,column:4},end:{line:8,column:5}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:5},"1":{loc:{start:{line:49,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:54,column:9}},{start:{line:52,column:15},end:{line:54,column:9}}],line:49}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9727b981a9f1c7210995e90984978d1cc37b2675"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_47i5lw32r=function(){return actualCoverage;};}return actualCoverage;}cov_47i5lw32r();async function loadPetDetails(){cov_47i5lw32r().f[0]++;const urlParams=(cov_47i5lw32r().s[0]++,new URLSearchParams(window.location.search));const petId=(cov_47i5lw32r().s[1]++,urlParams.get('id'));cov_47i5lw32r().s[2]++;if(!petId){cov_47i5lw32r().b[0][0]++;cov_47i5lw32r().s[3]++;alert('No pet ID specified.');cov_47i5lw32r().s[4]++;return;}else{cov_47i5lw32r().b[0][1]++;}cov_47i5lw32r().s[5]++;try{const response=(cov_47i5lw32r().s[6]++,await fetch(`/getPet/${petId}`));const pet=(cov_47i5lw32r().s[7]++,await response.json());// Populate the form fields with pet data
cov_47i5lw32r().s[8]++;document.getElementById('name').value=pet.name;cov_47i5lw32r().s[9]++;document.getElementById('breed').value=pet.breed;cov_47i5lw32r().s[10]++;document.getElementById('age').value=pet.age;cov_47i5lw32r().s[11]++;document.getElementById('gender').value=pet.gender;cov_47i5lw32r().s[12]++;document.getElementById('price').value=pet.price;cov_47i5lw32r().s[13]++;document.getElementById('picture').value=pet.picture;}catch(error){cov_47i5lw32r().s[14]++;console.error('Error loading pet details:',error);}}async function updatePet(){cov_47i5lw32r().f[1]++;const urlParams=(cov_47i5lw32r().s[15]++,new URLSearchParams(window.location.search));const petId=(cov_47i5lw32r().s[16]++,urlParams.get('id'));const petData=(cov_47i5lw32r().s[17]++,{name:document.getElementById('name').value,breed:document.getElementById('breed').value,age:document.getElementById('age').value,gender:document.getElementById('gender').value,price:document.getElementById('price').value,picture:document.getElementById('picture').value});cov_47i5lw32r().s[18]++;try{const response=(cov_47i5lw32r().s[19]++,await fetch(`/updatePet/${petId}`,{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(petData)}));cov_47i5lw32r().s[20]++;if(response.ok){cov_47i5lw32r().b[1][0]++;cov_47i5lw32r().s[21]++;alert('Pet updated successfully!');cov_47i5lw32r().s[22]++;window.location.href='/';}else{cov_47i5lw32r().b[1][1]++;cov_47i5lw32r().s[23]++;alert('Failed to update pet.');}}catch(error){cov_47i5lw32r().s[24]++;console.error('Error updating pet:',error);cov_47i5lw32r().s[25]++;alert('An error occurred. Please try again later.');}}cov_47i5lw32r().s[26]++;document.addEventListener('DOMContentLoaded',loadPetDetails);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNDdpNWx3MzJyIiwiYWN0dWFsQ292ZXJhZ2UiLCJsb2FkUGV0RGV0YWlscyIsImYiLCJ1cmxQYXJhbXMiLCJzIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJwZXRJZCIsImdldCIsImIiLCJhbGVydCIsInJlc3BvbnNlIiwiZmV0Y2giLCJwZXQiLCJqc29uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwibmFtZSIsImJyZWVkIiwiYWdlIiwiZ2VuZGVyIiwicHJpY2UiLCJwaWN0dXJlIiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlUGV0IiwicGV0RGF0YSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiaHJlZiIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlcyI6WyJlZGl0cGV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFzeW5jIGZ1bmN0aW9uIGxvYWRQZXREZXRhaWxzKCkge1xyXG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuICAgIGNvbnN0IHBldElkID0gdXJsUGFyYW1zLmdldCgnaWQnKTtcclxuXHJcbiAgICBpZiAoIXBldElkKSB7XHJcbiAgICAgICAgYWxlcnQoJ05vIHBldCBJRCBzcGVjaWZpZWQuJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2dldFBldC8ke3BldElkfWApO1xyXG4gICAgICAgIGNvbnN0IHBldCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGZvcm0gZmllbGRzIHdpdGggcGV0IGRhdGFcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlID0gcGV0Lm5hbWU7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JyZWVkJykudmFsdWUgPSBwZXQuYnJlZWQ7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZScpLnZhbHVlID0gcGV0LmFnZTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VuZGVyJykudmFsdWUgPSBwZXQuZ2VuZGVyO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmljZScpLnZhbHVlID0gcGV0LnByaWNlO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwaWN0dXJlJykudmFsdWUgPSBwZXQucGljdHVyZTtcclxuICAgICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBwZXQgZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBldCgpIHtcclxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbiAgICBjb25zdCBwZXRJZCA9IHVybFBhcmFtcy5nZXQoJ2lkJyk7XHJcblxyXG4gICAgY29uc3QgcGV0RGF0YSA9IHtcclxuICAgICAgICBuYW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZScpLnZhbHVlLFxyXG4gICAgICAgIGJyZWVkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlZWQnKS52YWx1ZSxcclxuICAgICAgICBhZ2U6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2UnKS52YWx1ZSxcclxuICAgICAgICBnZW5kZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZW5kZXInKS52YWx1ZSxcclxuICAgICAgICBwcmljZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaWNlJykudmFsdWUsXHJcbiAgICAgICAgcGljdHVyZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BpY3R1cmUnKS52YWx1ZVxyXG4gICAgfTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC91cGRhdGVQZXQvJHtwZXRJZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGV0RGF0YSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdQZXQgdXBkYXRlZCBzdWNjZXNzZnVsbHkhJyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdGYWlsZWQgdG8gdXBkYXRlIHBldC4nKTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBldDonLCBlcnJvcik7XHJcbiAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbG9hZFBldERldGFpbHMpO1xyXG4iXSwibWFwcGluZ3MiOiJ1Z0dBZVk7QUFBQUEsYUFBQSxTQUFBQSxDQUFBLFNBQUFDLGNBQUEsV0FBQUEsY0FBQSxFQUFBRCxhQUFBLEdBZlosY0FBZSxDQUFBRSxjQUFjQSxD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